<div class="page-sidebar navbar-collapse collapse">
    <!-- BEGIN SIDEBAR MENU -->
    <!-- DOC: Apply "page-sidebar-menu-light" class right after "page-sidebar-menu" to enable light sidebar menu style(without borders) -->
    <!-- DOC: Apply "page-sidebar-menu-hover-submenu" class right after "page-sidebar-menu" to enable hoverable(hover vs accordion) sub menu mode -->
    <!-- DOC: Apply "page-sidebar-menu-closed" class right after "page-sidebar-menu" to collapse("page-sidebar-closed" class must be applied to the body element) the sidebar sub menu mode -->
    <!-- DOC: Set data-auto-scroll="false" to disable the sidebar from auto scrolling/focusing -->
    <!-- DOC: Set data-keep-expand="true" to keep the submenues expanded -->
    <!-- DOC: Set data-auto-speed="200" to adjust the sub menu slide up/down speed -->
    <ul class="page-sidebar-menu" data-keep-expanded="false" data-auto-scroll="true" data-slide-speed="200"
        ng-class="{'page-sidebar-menu-closed': settings.layout.pageSidebarClosed}">

        <li class="start nav-item" style="margin-top:14px;">
            <a href="?#/teacher/home">
                <i class="icon-home"></i>
                <span class="title">首页</span>
            </a>
        </li>
        <li class="nav-item">
            <a href="?#/teacher/user/studentlist">
                <i class="fa fa-cutlery"></i>
                <span class="title">学生管理</span>
            </a>
        </li>

        <!--绩效管理-->
        <li class="nav-item" class="jxmanage">
            <a href="javascript:;" class="nav-link nav-toggle">
                <i class="fa fa-user"></i>
                <span class="title">绩效管理</span>
                <span class="arrow"></span>
            </a>
            <ul class="sub-menu jxmanagement">

                <li class="isself" style="display:none">
                    <a href="javacsript:;" onclick="jump(1)">
                        <span>我的自评</span>
                    </a>
                </li>
                <li class="ispublic" style="display:none" >
                    <a href="javascript:;" onclick="jump(2)">
                        <span>我的绩效</span>
                    </a>
                </li>
                  <li class="ischeck" >
                    <a href="javascript:;" onclick="jump(3)">
                        <span>绩效考核</span>
                    </a>
                </li>
            </ul>
        </li>

        <!--财务管理-->
        <li class="nav-item moneymanage" >
            <a href="javascript:;" class="nav-link nav-toggle">
                <i class="fa fa-user"></i>
                <span class="title">财务管理</span>
                <span class="arrow"></span>
            </a>
            <ul class="sub-menu moneymanagement">

                <li class='moneylist'>
                    <a href="javascript:;" onclick="jump(4)">
                        <span>工资条</span>
                    </a>
                </li>
            </ul>
        </li>

        <li class="nav-item">
            <a href="javascript:;" class="nav-link nav-toggle">
                <i class="icon-wrench"></i>
                <span class="title">通知中心</span>
                <span class="arrow "></span>
            </a>
            <ul class="sub-menu">
                <!--<li>-->
                    <!--<a href="#/teacher/notice/noticeteacher">-->
                        <!--老师通知-->
                    <!--</a>-->
                <!--</li>-->
                <li>
                    <a href="?#/teacher/notice/noticeclass">
                        班级通知
                    </a>
                </li>
            </ul>
        </li>
        <li class="nav-item">
            <a href="?#/teacher/class/classshow">
                <i class="fa fa-cutlery"></i>
                <span class="title">班级动态</span>
            </a>
        </li>

        <li class="nav-item">
            <a href="javascript:;" class="nav-link nav-toggle">
                <i class="fa fa-user"></i>
                <span class="title">班级考勤</span>
                <span class="arrow"></span>
            </a>
            <ul class="sub-menu">
                <li>
                    <a href="?#/teacher/card/myattendance">
                        <span>我的考勤</span>
                    </a>
                </li>
                <li>
                    <a href="?#/teacher/card/student">
                        <span>宝贝出勤</span>
                    </a>
                </li>
                <li>
                    <a href="?#/teacher/card/student/leave">
                        <span>宝贝请假</span>
                    </a>
                </li> 

            </ul>
        </li>
        <li class="nav-item">
            <a href="javascript:;" class="nav-link nav-toggle">
                <i class="fa fa-user"></i>
                <span class="title">家园共育</span>
                <span class="arrow"></span>
            </a>
            <ul class="sub-menu">
                <li>
                    <a href="?#/teacher/subject/subjecttask">
                        <span>专题共育</span>
                    </a>
                </li>
                <li>
                    <a href="?#/teacher/subject/subjectlist">
                        <span>专题库</span>
                    </a>
                </li>

            </ul>
        </li>
        <li class="nav-item">
            <a href="?#/teacher/knowledge/teachingtask">
                <i class="fa fa-cutlery"></i>
                <span class="title">园本教研</span>
            </a>
        </li>
        <li class="nav-item">
            <a href="javascript:;" class="nav-link nav-toggle">
                <i class="fa fa-user"></i>
                <span class="title">智库</span>
                <span class="arrow"></span>
            </a>
            <ul class="sub-menu">
                <li>
                    <a href="?#/teacher/knowledge/knowledgelist">
                        <span>知识库</span>
                    </a>
                </li>
                <li>
                    <a href="?#/teacher/knowledge/articlelist">
                        <span>我的投稿</span>
                    </a>
                </li>
                <li>
                    <a href="?#/teacher/knowledge/discusslist">
                        <span>我的参与</span>
                    </a>
                </li>

            </ul>
        </li>
        <li class="nav-item">
            <a href="#/teacher/faq/faqlist">
                <i class="fa fa-cutlery"></i>
                <span class="title">用户手册</span>
            </a>
        </li>

    </ul>
    <!-- END SIDEBAR MENU -->
</div>

<script>

    $(function(){
        //获取地址栏地址
        function getUrlParam(key) {
            // 获取参数
            var url = window.location.search;
            // 正则筛选地址栏
            var reg = new RegExp("(^|&)" + key + "=([^&]*)(&|$)");
            // 匹配目标参数
            var result = url.substr(1).match(reg);
            //返回参数值
            return result ? decodeURIComponent(result[2]) : null;
        }
        var brandname = getUrlParam("teachernews");

        $(".sub-menu").click(function(){
            $(this).parent("li").siblings("li").find("ul").css("display","none");
            $(this).css("display","block");
        });


        var sessioninfo = sessionStorage.getItem("teacher");
        var data =  eval('(' + sessioninfo + ')');
        var token = data.token;
        var userid = data.userid;

        var host = window.location.host;
        var test = window.location.protocol;
        var url = test+"//"+host;



        $.ajax({
            url:''+url+'/meritpay/achconfig/get',
            type:'get',
            headers:{"User-Token":token},
            success:function(res){
                console.log(res.data)
                var isSelf = res.data[0].isSelf;
                var isPublic = res.data[0].isPublic;
                if(isSelf==0){
                    $(".isself").show();
                }
                if(isPublic==0){
                    $(".ispublic").show();
                }
                /*  if(isSelf==0 && isPublic==0){
                 $(".jxmanage").show();
                 }  */

            }

        })

        //是否是最低级
        $.ajax({
            url:''+url+'/meritpay/roster/getUserStationsInfo/1069',
            type:'get',
            async: false,
            headers:{"User-Token":token},
            success:function(res){

                var datajs = res.data;
                var data =  eval('(' + datajs + ')');
                var children = data.childUsers;

                if($.isEmptyObject(children)){
                    $(".ischeck").hide();
                }


            }
        })




        if(brandname=="teacher1"||brandname=="teacher2"||brandname=="teacher3"){
            $(".jxmanagement").css("display","block")
        }
        if(brandname=="teacher4"){
            $(".moneymanage").css("display","block")
        }

        function jump(urlname){
            var host = window.location.host;
            var test = window.location.protocol;
            var url = test+"//"+host;
            if(urlname=="1"){
                $(".isself a")[0].href=""+url+"/zhitong/client/index.html?teachernews=teacher1#/teacher/home"
            }
            if(urlname=="2"){

                $(".ispublic a")[0].href=""+url+"/zhitong/client/index.html?teachernews=teacher2#/teacher/home"
            }
            if(urlname=="3"){
                $(".ischeck a")[0].href=""+url+"/zhitong/client/index.html?teachernews=teacher3#/teacher/home"
            }
            if(urlname=="4"){
                $(".moneylist a")[0].href=""+url+"/zhitong/client/index.html?teachernews=teacher4#/teacher/home"
            }


        }



        var url = window.location.hash;
        var old = url.split("/")[2];

        // if(old=="park"){
        //     $(".park").css("display","block");
        // }
        // if(old=="class"){
        //     $(".class").css("display","block");
        // }
        // if(old=="user"){
        //     $(".user").css("display","block");
        // }
        // if(old=="notice"){
        //     $(".notice").css("display","block");
        // }
        // if(old=="card"){
        //     $(".card").css("display","block");
        // }
        // if(old=="subject"){
        //     $(".subject").css("display","block");
        // }
        // if(old=="knowledge"){
        //     $(".knowledge").css("display","block");
        // }
    })




</script>